{# Support for Sphinx 1.3+ page_source_suffix, but don't break old builds. #}

{% if page_source_suffix %}
{% set suffix = page_source_suffix %}
{% else %}
{% set suffix = source_suffix %}
{% endif %}

{% if meta is defined and meta is not none %}
{% set check_meta = True %}
{% else %}
{% set check_meta = False %}
{% endif %}

{% if check_meta and 'github_url' in meta %}
{% set display_github = True %}
{% endif %}

{% if check_meta and 'bitbucket_url' in meta %}
{% set display_bitbucket = True %}
{% endif %}

{% if check_meta and 'gitlab_url' in meta %}
{% set display_gitlab = True %}
{% endif %}

<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    {% block breadcrumbs %}
      <li>
        <a href="{{ pathto(master_doc) }}">
          <svg class="gc-logo" width="207px" height="207px" viewBox="0 0 207 207" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g id="Logo/GeoCat-GC" transform="translate(-12.000000, 0.000000)" fill-rule="nonzero">
              <g id="gc_geocat_logo_only" transform="translate(11.000000, 0.000000)">
                <g id="Group" transform="translate(0.523688, 0.000000)">
                  <path class="gc-c" d="M138.791293,61.8553137 L152.636364,52.4391805 C139.900128,40.2586428 122.724712,32.7746479 103.889885,32.7746479 C65.1190781,32.7746479 33.546735,64.3444302 33.5390525,103.117798 C33.5480154,141.892446 65.1152369,174.026889 103.895006,174.026889 C127.206146,174.026889 147.959027,162.386684 160.854033,144.668374 L138.786172,144.668374 C129.37388,152.699104 117.184379,157.408451 103.895006,157.408451 C73.978233,157.408451 49.8822023,133.31242 49.8834827,103.116517 C49.8847631,73.2099872 73.9846351,49.1152369 103.891165,49.1152369 C117.18694,49.1139565 129.653009,53.822023 138.791293,61.8553137" id="Shape" fill="#0C97CE"></path>
                  <path class="gc-g" d="M207.192061,103.152369 L190.829706,103.152369 L153.449424,103.152369 L186.367478,130.727273 C174.856594,165.215109 142.293214,190.090909 103.892446,190.090909 C55.8758003,190.090909 16.9513444,151.215109 16.9513444,103.261204 C16.9513444,55.3072983 55.8758003,16.4327785 103.892446,16.4327785 C128.421255,16.4327785 150.5621,26.5953905 166.370038,42.9129321 L179.965429,33.4801536 C161.084507,12.9628681 133.996159,0.0921895006 103.892446,0.0921895006 C46.8399488,0.0921895006 0.588988476,46.2816901 0.588988476,103.262484 C0.588988476,160.244558 46.8399488,206.434059 103.892446,206.434059 C160.944942,206.434059 207.195903,160.244558 207.195903,103.262484 C207.195903,103.224072 207.192061,103.18694 207.192061,103.152369 Z" id="Shape" fill="#261C44"></path>
                </g>
              </g>
            </g>
          </svg>
          <span class="project-name">{{project}}</span>
        </a>
      </li>
      {% if title != project %}
          {% for doc in parents %}
            <li> &raquo; <a href="{{ doc.link|e }}">{{ doc.title }}</a> &raquo;</li>
          {% endfor %}
          <li> &raquo; {{ title }}</li>
      {% endif %}
    {% endblock %}
    {% block breadcrumbs_aside %}
      <li class="wy-breadcrumbs-aside">
        {% if hasdoc(pagename) %}
            {% if display_github %}
            {% if check_meta and 'github_url' in meta %}
              <!-- User defined GitHub URL -->
              <a href="{{ meta['github_url'] }}" class="fa fa-github"> {{ _('Edit on GitHub') }}</a>
            {% else %}
              <a href="https://{{ github_host|default("github.com") }}/{{ github_user }}/{{ github_repo }}/{{ theme_vcs_pageview_mode|default("blob") }}/{{ github_version }}{{ conf_py_path }}{{ pagename }}{{ suffix }}" class="fa fa-github"> {{ _('Edit on GitHub') }}</a>
            {% endif %}
          {% elif display_bitbucket %}
            {% if check_meta and 'bitbucket_url' in meta %}
              <!-- User defined Bitbucket URL -->
              <a href="{{ meta['bitbucket_url'] }}" class="fa fa-bitbucket"> {{ _('Edit on Bitbucket') }}</a>
            {% else %}
              <a href="https://bitbucket.org/{{ bitbucket_user }}/{{ bitbucket_repo }}/src/{{ bitbucket_version}}{{ conf_py_path }}{{ pagename }}{{ suffix }}?mode={{ theme_vcs_pageview_mode|default("view") }}" class="fa fa-bitbucket"> {{ _('Edit on Bitbucket') }}</a>
            {% endif %}
          {% elif display_gitlab %}
            {% if check_meta and 'gitlab_url' in meta %}
              <!-- User defined GitLab URL -->
              <a href="{{ meta['gitlab_url'] }}" class="fa fa-gitlab"> {{ _('Edit on GitLab') }}</a>
            {% else %}
              <a href="https://{{ gitlab_host|default("gitlab.com") }}/{{ gitlab_user }}/{{ gitlab_repo }}/{{ theme_vcs_pageview_mode|default("blob") }}/{{ gitlab_version }}{{ conf_py_path }}{{ pagename }}{{ suffix }}" class="fa fa-gitlab"> {{ _('Edit on GitLab') }}</a>
            {% endif %}
          {% elif show_source and source_url_prefix %}
            <a href="{{ source_url_prefix }}{{ pagename }}{{ suffix }}">{{ _('View page source') }}</a>
          {% elif show_source and has_source and sourcename %}
            <a href="{{ pathto('_sources/' + sourcename, true)|e }}" rel="nofollow"> {{ _('View page source') }}</a>
          {% endif %}
        {% endif %}
      </li>
    {% endblock %}
  </ul>

  {% if (theme_prev_next_buttons_location == 'top' or theme_prev_next_buttons_location == 'both') and (next or prev) %}
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      {% if next %}
        <a href="{{ next.link|e }}" class="btn btn-neutral float-right" title="{{ next.title|striptags|e }}" accesskey="n">{{ _('Next') }} <span class="fa fa-arrow-circle-right"></span></a>
      {% endif %}
      {% if prev %}
        <a href="{{ prev.link|e }}" class="btn btn-neutral float-left" title="{{ prev.title|striptags|e }}" accesskey="p"><span class="fa fa-arrow-circle-left"></span> {{ _('Previous') }}</a>
      {% endif %}
  </div>
  {% endif %}
  <hr/>
</div>
